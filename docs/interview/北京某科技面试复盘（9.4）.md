>本文已发表于个人公众号：Rong姐姐好可爱，若仓库访问速度受限，可以直接访问公众号文章：https://mp.weixin.qq.com/s/E-rE1zf38QZssubUI6Lhbw


### 写在最前面
今天是9月4日，一个工作很愉快的周五，整整一天都是在看一些资料，学习一下zookeeper相关的，可谓是`带薪学习`，基本没有做工作上的东西；这个懂得自然懂...
> 有时候，遇到自己熟悉的需求，可以做快一点，然后自己把握好时间进行交付，这样其他时间就可以看一下自己想看的技术、博文、甚至回复一下账号的一些消息；这些操作都是可以的，最怕的是工作上东西没有做完，人还是迷的，这样就很危险了....

当然，我是记得今天我跟北京某科技公司(工作地点是我喜欢的杭州)有约过面试的。虽然公司不大，在Boss上找人的hr也不是很专业，但是想着是一次面试机会，所以周五到了6点，我就溜了。对于这个公司的面试，其实我心里是抱着试试水的心态，虽然公司在杭州，但是更我期望的公司体制还是有很大出入的，虽然我也没复习，没准备就想着看看到底是个什么水平，能不能在偌大的杭州找到拿一份Offer。事实结果是，我在面试中好几个地方被面试官难住了， 所以结束后，我感觉这个面试着实是没有面好，也暴露出很多问题，虽然整个过程持续了40多分钟...


#### 面试过程

> 大概到了7点左右，我下地铁回来，刚上厕所，手机电话就响了，然后就急忙忙的接电话，搞得我还很紧张，明明是试水、不那么在意的面试..可能这也预示着整个过程比较坎坷吧~

首先是确认我名字
> 面试官：你好，请问你是XX吗？
> 
> 我：是的

然后，面试官就让我来个自我介绍，这个本来是所有的面试都会有，而我就很随意， 没有怎么准备；就很简单的说：
> 我叫XX，毕业清华大学(认真就输了)，毕业于19年，目前正在做一个关于OA的重构项目，围绕着微服务进行展开...

其实就很简单，因为面试官哪里很吵，而我又有一点莫民奇妙的紧张，感觉当时有点短路的
> 面试官：OK，那我们开始接下来的面试吧


此时的我，看了下四个月前写的简历，勉强的说：“好”，这里明显就能自我感觉我，我有点心虚，可能是没有认真准备，完全当做试水的原因吧。

然后就问我一堆问题，我其中大部分我都能够回答下来，只是有大约5-6个原理性的问题，我是实在是没有很好的研究过；不过好在这5-6个问题，我不会的，没有连续问我，而是整个过程断断续续的出现，在我说不会，说没有深入研究过，甚至说只停留在基础使用并实现功能的时候，面试官都回了一个OK~~虽然我听不出来他的语气，但是我必须要说的是：
> 什么时候，程序员能不说OK吗？？ 虽然我也说
> 什么时候，能不要恢复问题动不动就1吗？虽然这个1很强大，不掺杂任何情感，虽然我师父也经常跟我1 ，跟我fix

这里简要的记录一下，面试官问到的问题（我没有回答上来的）
##### 问题1：Nginx相关
> 面试官：我看你简历上写用过nginx，做过反向代理，你能说说nginx是处理htpp请求的过程，如何做反向代理的吗？


> 我：其实这部分我顶得住，基本就围绕着nginx的各个模块，和反向代理、上游服务器、去展开，还勉强应付；但是后面的，我就死亡了！

> 面试官：跟我讲讲nginx的worker进程的竞选策略，如何压榨cpu获取高性能的吧

> 这个我当时反复确认，基本就圆滑的说了一下，围绕着master-->worker进程展开，但是虽然勉强了一下，说了一些，总的来说，这个问题还是没会，没有回答好； 这个nginx的底层问题，难自闭了·

#### 问题2：索引相关
> 面试官：你说你们现在用的mysql，你自己也做了个高可用的架构，那你们架构里面是怎么做查询优化的，怎么用索引的？？？

> 我说：我正在做的是重构的项目，mysql这块只是弄好集群，确保8000万用户能经过压测，mysql的索引相关还没有正式深入，然后就简单的说了一下，我知道的唯一索引、组合索引、主键索引什么的...场面一度很尴尬，说的人很尽力的圆场，听的面试官也尽量不揭穿我，对于整个问题，我确实是草率了，问哭了，事后就感觉没有一点回答的问题的实质上

> 面试官：OK，了解了

我对这个问题印象很深刻，这一块是属于理论知识，是完全可以看得出来你平时数据库基础上是否下功夫，是否常复习，不要说什么都看过，都见过，关键时刻说的一知半解，终归让人感觉是个混子。而就我来说，正是这个混子，也没有把这部分的理论原理知识，结合实际业务去做（我们组也还没有重构到这里呀！！！！）

不多说，这题我的锅 ，确实是完全不会；


#### 问题三：ELK相关
> 面试官：你们除了用mysql这种关系型的数据库，还用什么数据库，有用过非关系型的吗？

> 我说，毕业到现在，我用过mysql和sql server ,但是我们原来的项目组，正式服上用的是sql server ，不过后来都被整合到mysql上，进行mysql数据迁移了， 关于非关系型数据库，也有用过redis，做相关的查询优化，搭建高可用集群、哨兵模式什么的。非关系型数据库方面，用过elk中的elasticsearch，简单了解过mongo，但是不是很熟练；

> 好的，了解，你说你使用过elk，那你说说elk的架构是怎样的？怎样实现全文搜索，查询性能优越的原理是什么？

> 我：听到这里，听到原理两个字，我就有些不知所措了，我确实用过elk，也搞了一套elk的集群，进行千万级数据模拟，完成一些功能，但是突然问我查询原理是什么，，虽然我知道会有红黑树，排序什么的，但我也不敢说啊，只能简单说说elk的架构，因为我曾今上班的时候，看见过elk的官方架构，elastic logstash、kibana还有各种beat什么的，但是说来说去，也没有回答道点上，这题目终究是让我很煎熬，就有些东西看过，但是不细心整理，常复习，模模糊糊的不熟练，关键时刻也不敢说，面试的时候就输了

此时的我望着对面的宝马4S点，长抒一口气，呼吸吐纳一番，问自己：
> 自己这样的水平，让我过，别人能安心吗？

所以最终的结果我感觉我已经预料到了，但我仍然要谢谢那个面试官：
> 一个Java来面我一个小小的JavaScript的，就好像吐槽大会上面说的，Java和JavaScript的区别，就好像周杰和周杰伦的区别；虽然问我很多原理性的问题，我没有回答上来，但也不至于最后跟我说，二面的时候，会问一下JavaScript技术栈和前端的问题...

关键是，我一面能过吗？？我觉得不行！！！

#### 问题4 sql相关的

> 面试官：你说你们平时用mysql，那你们业务中，会写sql吗？

> 我说：会写一些，但是目前都是框架利用各种反射封装好ORM，就好像node有sequelize，netcore有efcore（好像是这样），Java中有mybatis(我知道面试官是写Java的，本想故意提一下Java的技术栈，增加一些好感)这些ORM框架，在实际项目中更多的是用其提供的方法或者钩子函数，就很少写sql；

当我说完这句话---就很少写sql，我意识到我开始掉进坑里面去了，果不其然，面试官反问我：

> 面试官：你知道sql里面多条件联合查询，顺序是怎样的吗? 查询的原理是什么？

因为对原理有过了解，就还是刚刚说的，很多东西都是一个模糊的效果，不敢下定论，所以我就只能圆滑的解释到：
> 我说：不好意思，这个我没有深入的研究过，但是我觉得应该多条件有个组合优先级之类的规则，比如查询索引，再查主键，查列什么的

上面的这个回答，我也没查过，截至到目前还没有定论，如果大家有知道索引的底层查询原理，可以私信告诉我~

面试官听后说：

> 虽然正常情况会用ORM框架，但是我们也要求会做sql优化，查询速度的提升，不能依靠缓存？

当时我就觉得这话说的太绝对了，就心想着：
> 是可以通过优化sql来提高查询速度，但是那个是从数据库的层面上去做优化的，当你数据量到，像我前项目组里面的动不动单表一个亿，，这你索引有用？？？？？优化一辈子的sql，不做高可用redis缓存，查询都打到数据库上，你这架构行吗？？？？

事实是，我当时怂了，这段心里的念白，就埋在心底，没有说出来，说出的的反而是：

> sql优化，不是DBA来做吗？ 一般会有对应的数据分析师吧（刚好之前有个在读研究生的数学专业同学，在做数据分析这块，我也通过她了解过这些，听她讲就感觉老高级了，毕竟动不动就一个Python问题过来了，属实洗脑）

后来，我面试完，转念一想，我觉得这公司不对呀，真的是体制不大，DBA没有，一面问底层原理，说二面再问前端？？？？这样看来是不是不规范呀，一个人当三个人用？？？这不是比996还恐怖吗？？？？


细思极恐，虽然我已经意识到这场面试，自己做的不充分、不够好，回头想想，也不用太在意，把这些不会的底层原理，这周消化了，也许后面的就问一些对口的东西呢.....

### 面试总结

- 做事要认真，对每一份面试及时复盘
- 明确自己的技术方向，不要被所谓的全栈搞乱阵脚
- **有些东西看过，但是不细心整理，常复习，模模糊糊的不熟练，关键时刻也不敢说，面试的时候就输了**

最后，安慰一下自己，这场没有认真的面试让我印象深刻，感觉对职场又多了一丝敬畏吧；
> 杭州大厂那么多，但要珍惜每一次面试的机会，这一点我做的不够好，我希望我的性格可以改一改~


## 公众号


如果大家想要实时关注我更新的文章以及我的日常的话，可以关注我的公众号，基本每天都会更新技术和各种吹水文章，就当做是记录心情、成长的地方吧

<a name="gzh"></a>

<div>
  <img src="https://cdn.142vip.cn/gzh.png"  style="border-radius:10px;">
</div>
