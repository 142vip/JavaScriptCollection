---
title: 备忘录模式
permalink: /manuscripts/server-end/design-patterns/memento-mode.html
---

# 备忘录模式

备忘录模式`Memento Pattern`是在不破坏封装性的前提下，将对象当前的内部状态保存在对象之外，以便以后当需要时能将该对象恢复到原先保存的状态。备忘录模式又叫快照模式，是一种对象行为型模式。

## 基本介绍

备忘录模式是关于捕获和存储对象的当前状态的方式，以便以后可以平滑地恢复它。

### 优点

- 提供了一种可以恢复状态的机制，当用户需要时能够比较方便地将数据恢复到某个历史的状态。
- 实现了内部状态的封装，除了创建它的发起类之外，其他对象都不能够访问这些状态信息。
- 简化了发起类，发起类不需要管理和保存其内部状态的各个备份，所有状态信息都保存在备忘录中，并由管理者进行管理，这符合单一职责原则。

### 缺点

- 资源消耗大，如果要保存的内部状态信息过多或者特别频繁，将会占用比较大的内存资源。

### 适用环境

- 需要保存/恢复数据的相关状态场景。
- 提供一个可回滚的操作。

## 代码实现
