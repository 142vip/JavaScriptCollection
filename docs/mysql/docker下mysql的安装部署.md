​	最近，我发现自己的电脑特别的卡，所以我就趁着周末有时间，将我用了好几年的笔记本进行系统重装；虽然大学的时候，有学习过怎么样去快速的通过PE工具去安装系统，但是现在毕业很久了，很多实操的东西都忘记了；所以昨晚安装系统的操作搞得有些晚。另外，除了我电脑本身比较卡之外，促使我进行系统重装的大概是csdn上的一个评论吧！

![image-20200830104253793](E:\code\github\JavaScriptCollection\docs\mysql\image-20200830104253793.png)

这里本来是句玩笑话，但是我发现在写博客、写文章的时候，总有一些朋友， 没有get到点，甚至容易站在道德的高地来怎么怎么的...所以就有这篇文章；

​	当然，这里会简略的说一些系统安装，重要的是将docker下MySQL的安装部署，毕竟不像是还在上学，老是觉得会点实操就很了不起。你说对吧？

​	先说下昨天晚上，我大概9点多开始准备安装系统，当我插上我的U盘准备进入PE的安装界面，我发；现，我大学时制作的PE启动盘竟然坏了，我手头也没有其他的U盘，所以我不得不重新制作启动盘。过程大概就是：U盘数据备份——格式化——写入启动盘程序——测试启动盘效果。当我启动盘做好准备开始安装系统，发现我这个用了很久的电脑，数据真的很多，特别是代码、笔记、文档什么的，简直一大堆，所以我找出了芋头给我的移动硬盘，进行数据备份，整整20多个G，要是单纯的是压缩包什么的备份起来就很快，但是偏偏里面就是什么类型的文件数据都有，所以整个数据备份大概话了我1个多小时，搞到了11点多，当时还心想着，总算能开始安装了....

​	于是，我就插上新做的PE启动盘，进入笔记本的BIOS界面，设置U盘启动，进入PE工作界面，把笔记本硬盘上的数据全部格式化，自从买了mac之后，这个笔记本就一直很少用，而我对这个笔记本的规划就是后续在写文档、排版上用的比较多，加上我自己网站的服务器配置比较低，所以就想着在这个笔记本上装上centos服务，以后不论是代码开发、服务内测环境上线、本地集群模拟都可以用这台笔记本，而且当我不用的时候，观赏虚拟机就可以当作普通的笔记本使用，平时谢谢文档、排版等，我想应该问题不带；

​	大概到了晚上12点的时候，我的笔记本系统重装的基础工作就完成的，后面的就是安装驱动，下载软件什么的，一直在等安装过程，当我装好驱动、压缩工具、Git、Centos的时候就到了一点多了，幸好是周末，幸好是周六，看着这不争气的电脑，我就觉得差不多的时候，就已经到两点多了...实在是扛不住了，就去睡了....

>  这里的“争气”二字，强烈建议看《中国新说唱》，在很多人都不选Gai的情况下，重庆小伙王齐铭选择了Gai，当时Gai说了一句“争气点.....”,真的就很上头了，川渝人真的浑身都是魅力.. 就拿我们组那个Android,充满了欢乐... 所以争气点呀....

铺垫了这么多，就放一张已经装好docker的centos虚拟机吧，下面主要就是将在docker环境下安装Mysql的事情了...

![image-20200830110651233](E:\code\github\JavaScriptCollection\docs\mysql\image-20200830110651233.png)



其实与docker的接触时间并不是很长，至少在我去广州实习，在我去年11月份之前，我应该是不会docker，虽然接触的比较晚，但是用过之后，就会都容器技术、容器编排很喜欢，docker是这样，k8s也是这样，包括istio服务网格也是这样... 所以我觉得计算机技术发展的这么快，学习技能一定要学尽可能新的，当然也不是说旧的知识不重要，但是像什么jsp这种，就完全没有必要学了，因为很多公司都已经不用了，就算用了，也会或者说正在进行新技术重构，就比如说我所在的项目组，web前端开发用的是ejs模板渲染，现在就被完完全全用vue代替了， 如果你说ejs模板开发，不需要考虑SEO的问题呀什么的，我可能会跟你说，我发现了Nuxtjs这个框架，实在vuejs的基础上，完全满足SSR服务端渲染的问题......hhhh,不要喷我！

​	好了， 说说MySQL的安装问题吧，以前我安装MySQL，就包括笔记本之前系统上安装的MySQL都是采用官网提供的安装文件，进行安装，然后配置重启什么的，对于有安装路径洁癖的人来说，还要考虑装在那个盘比较好（如果你是固态硬盘，这个是不用考虑的......）,但是这个其实有很多不好的地方，比如我觉得：

- 官网下载慢，找对应的版本需要去考虑系统适配的问题；
- 本地安装配置多，虽然安装之后可以很清楚的看到文件目录什么的，但是里面的配置，真的理不清
- 后续拓展主从什么的，非常不方便，也不利于查看端口暴露的问题

总之一句话，mysql用docker安装，必须安排....

### docker部署

- 设置yum，安装docker

```bash
##安装docker
$ yum install docker-ce-17.12.1.ce
## centos下可以进行yum更新
$ yum update
## 安装vim
$ yum install vim 
```

- 启动docker服务

```bash
## 启动
$ systemctl start docker
# 对应的还有停止与重启
$ systemctl stop docker
$ systemctl restart docker
```

- 查看是否启动

```bash
# 方法一：查看docker指令是否可用
$ docker ps #显示所有正在运行的容器
$ docker version # 查看docker版本
# docker指令有很多，可以随便选择一个
# 方法二：查看centos系统已经启动的服务
$ systemctl list-units --type=service
# 如果没有的话，建议执行：systmectl restart docker重试
```

- 设置开机启动

因为这毕竟是把docker安装在虚拟机环境下，虽然docker支持安装window和macOS系统上，但是相比来说，windows上的docker安装简直太过于鸡肋的了，加上想在本地模拟云服务器的集群效果，所以我就在虚拟机上安装了，可是，如果笔记本关机了，虚拟机也关了，当你再次打开虚拟机的时候，docker还会运行吗？如果不会，怎么样去让他开机就能运行docker呢？答案是：**设置开机启动**

```bash

```

